<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8">

    </script>
    <link href="d3-geomap-1.0.1/css/d3.geomap.css" rel="stylesheet">
    <link rel="stylesheet" href="d3.slider.css" />
    <script src="d3-geomap-1.0.1/vendor/d3.geomap.dependencies.min.js"></script>
    <script src="d3-geomap-1.0.1/js/d3.geomap.min.js"></script>
    <script src="d3.slider.js"></script>

</head>
<body>
<div id="map"></div>

<script type="text/javascript">
//    var map = d3.geomap()
//            .geofile('d3-geomap-1.0.1/topojson/world/countries.json');
//
//    d3.select('#map')
//            .call(map.draw, map);
var format = function(d) {
    d = d / 1000000;
    return d3.format(',.02f')(d) + 'M';
}

var map = d3.geomap.choropleth()
        .geofile('d3-geomap-1.0.1/topojson/world/countries.json')
        .colors(colorbrewer.BuGn[5])
        .column('Total')
        .format(format)
        .legend(true)
        .unitId('Country Code');

d3.csv('Total_2015.csv', function(error, data) {
    d3.select('#map')
            .datum(data)
            .call(map.draw, map);
});

d3.slider().axis(true).min(2000).max(2100).step(5)

</script>

</body>
</html>